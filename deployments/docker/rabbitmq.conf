# RabbitMQ configuration for NextEvent development

# Network
listeners.tcp.default = 5672

# Management plugin
management.tcp.port = 15672
management.tcp.ip = 0.0.0.0

# Logging
log.console = true
log.console.level = info
log.file = false

# Default user (overridden by environment variables)
default_user = nextevent
default_pass = nextevent123
default_vhost = /

# Memory and disk limits
vm_memory_high_watermark.relative = 0.6
disk_free_limit.absolute = 1GB

# Connection limits
num_acceptors.tcp = 10
handshake_timeout = 10000
heartbeat = 60

# Queue settings
default_user_tags.administrator = true

# Clustering (disabled for single node)
cluster_formation.peer_discovery_backend = classic_config

# Management UI
management.rates_mode = basic

# SSL (disabled for development)
ssl_options.verify = verify_none
ssl_options.fail_if_no_peer_cert = false

# Plugins
# management plugin is enabled by default in management image

# Performance tuning
channel_max = 2047
frame_max = 131072
heartbeat = 60
collect_statistics_interval = 5000

# Memory calculation strategy
vm_memory_calculation_strategy = rss

# Garbage collection
collect_statistics = coarse

# TCP buffer sizes
tcp_listen_options.backlog = 128
tcp_listen_options.nodelay = true
tcp_listen_options.linger.on = true
tcp_listen_options.linger.timeout = 0

# Message store
msg_store_file_size_limit = 16777216
msg_store_credit_disc_bound = 4000

# Queue index
queue_index_embed_msgs_below = 4096

# Lazy queues
queue_master_locator = min-masters
